<div ng-controller='orderController'>
	<form>
		<fieldset>
			<legend>Add a new order</legend>
		customer: 
		<select ng-model = 'newOrder.o_customer'>
			<option ng-repeat = "customer in customers | filter:filter | orderBy:'name'" value='{{customer}}' ng-bind = 'customer.name'></option>
		</select>
		<br>
		order:
		<input type="number" ng-model = 'newOrder.o_quantity' min = 0, max = 10>
		<select ng-model = 'newOrder.o_product'>
			<option ng-repeat = "product in products | filter:filter | orderBy:'name'" value='{{product}}' ng-bind = 'product.name'></option>
		</select>
		<br>
		<input type="button" value = "Order" ng-click = 'makeOrder()' class = 'btn btn-success'>
		</fieldset>
	</form>
	filter:
		<input type="text" ng-model = "filter">
		<table class = 'table'>
			<tr>
				<th>Customer Name</th>
				<th>Product</th>
				<th>Quantity</th>
				<th>Date</th>
			</tr>
			<tr ng-repeat = "order in orders | filter:filter | orderBy:'-created_at'">
				<td ng-bind = 'order.o_customer.name'></td>
				<td ng-bind = 'order.o_product.name'></td>
				<td ng-bind = 'order.o_quantity'></td>
				<td ng-bind = 'order.created_at'></td>
			</tr>
		</table>
</div>